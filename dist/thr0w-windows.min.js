!function(){"use strict";function t(t){function e(){var t,e=[];for(t=0;t<i.length;t++){var n=i[t];e.push({id:n.getId(),x:n.getX(),y:n.getY(),width:n.getWidth(),height:n.getHeight(),src:n.getSrc()})}return e}function n(t){function e(t){return t.getId()}var n,d=i.map(e);for(n=0;n<t.length;n++)-1===d.indexOf(t[n].id)&&new o(t[n].id,t[n].x,t[n].y)}function o(e,n,o){function w(){return{x:n,y:o,scrollX:S,scrollY:X}}function c(t){n=t.x,o=t.y,S=t.scrollX,X=t.scrollY,H.style.left=n+"px",H.style.top=o+"px",b.contentWindow.document.body.scrollTop=S,b.contentWindow.document.body.scrollLeft=X}function s(t){M=!0,_=t.pageX,v=t.pageY,I.update()}function u(e){if(M){var i=e.pageX,d=e.pageY;n=Math.min(n+i-_,t.getWidth()-L),n=Math.max(n,0),o=Math.min(o+d-v,t.getHeight()-W),o=Math.max(o,0),H.style.left=n+"px",H.style.top=o+"px",_=i,v=d,I.update()}}function h(){M=!1,I.idle()}function l(){function t(){function t(){T?(Y=!1,I.idle()):(T=!0,window.setTimeout(t,1e3))}Y||(window.setTimeout(t,1e3),Y=!0),T=!1,S=b.contentWindow.document.body.scrollTop,X=b.contentWindow.document.body.scrollLeft,I.update()}b.contentWindow.document.addEventListener("scroll",t)}function a(){return e}function f(){return n}function p(){return o}function g(){return L}function m(){return W}function y(){return E}if(void 0===e||"string"!=typeof e)throw 400;if(void 0===n||"number"!=typeof n)throw 400;if(void 0===o||"number"!=typeof o)throw 400;var _,v,x,b,L=200,W=300,E="/client/doc/",M=!1,S=0,X=0,Y=!1,T=!0,H=document.createElement("div"),I=new window.thr0w.Sync(t,"thr0w_windows_"+d.id+"_"+e,w,c);H.style.left=n+"px",H.style.top=o+"px",H.style.width=L+"px",H.style.height=W+"px",H.classList.add("thr0w_windows_window"),H.innerHTML=['<div class="thr0w_windows_window__bar">',"</div>",'<iframe src="/client/doc/" width="200" height="260" frameborder="0" class="thr0w_windows_window__content">',"</iframe>"].join("\n"),x=H.querySelector(".thr0w_windows_window__bar"),x.addEventListener("mousedown",s),x.addEventListener("mousemove",u),x.addEventListener("mouseup",h),x.addEventListener("mouseleave",h),b=H.querySelector(".thr0w_windows_window__content"),b.addEventListener("load",l),d.appendChild(H),this.getId=a,this.getX=f,this.getY=p,this.getWidth=g,this.getHeight=m,this.getSrc=y,i.push(this),r.update(),r.idle()}if(!t||"object"!=typeof t)throw 400;var i=[],d=t.getContent(),r=new window.thr0w.Sync(t,"thr0w_windows_"+d.id,e,n);this.Window=o}if(void 0===window.thr0w)throw 400;var e={};e.WindowManager=t,window.thr0w.windows=e}();