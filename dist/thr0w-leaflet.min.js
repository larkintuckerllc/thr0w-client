!function(){"use strict";function t(t,i){function l(){return{lat:nt.lat,lng:nt.lng,zoomLevel:I}}function d(t){nt=a.latLng(t.lat,t.lng),I=t.zoomLevel,i.setView(nt,I,{animate:!1})}function r(){return{syncing:W,animationSyncing:B,nextMove:J,nextMoveDuration:V,nextMoveLat:Z,nextMoveLng:q,nextMoveZ:C}}function u(t){W=t.syncing,B=t.animationSyncing,A&&!W&&(A=!1,at.idle()),G&&!B&&(G=!1,y(),it.idle()),G&&t.nextMove&&c(t.nextMoveDuration,t.nextMoveLat,t.nextMoveLng,t.netMoveZ)}function c(t,l,d,r){function u(){f+=o,f>s?(window.clearInterval(K),K=null,nt=a.latLng(l,d),i.setView(nt,I,{animate:!1}),it.update(),it.idle(),G=!1,B=!1,lt.update(),lt.idle()):(g=w>=0?nt.lng+w<=180?nt.lng+w:-180:nt.lng+w>=-180?nt.lng+w:180,nt=a.latLng(nt.lat+h,g),i.setView(nt,I,{animate:!1}),it.update())}var c,p,s,h,w,g;if(t!==parseInt(t))throw 400;if(void 0===l||"number"!=typeof l||l>e||n>l)throw 400;if(void 0===d||"number"!=typeof d)throw 400;if(void 0===r&&(r=I),"number"!=typeof r)throw 400;var f=0;if(W&&(A&&(A=!1,at.idle()),W=!1,lt.update(),lt.idle()),B){if(!G)return J=!0,V=t,Z=l,q=d,C=r,lt.update(),void lt.idle();y()}G=!0,B=!0,lt.update(),lt.idle(),M(r),it.update(),c=Math.abs(t*(l-nt.lat)/180),Math.abs(d-nt.lng)<=180?(p=Math.abs(t*(d-nt.lng)/180),s=Math.max(c,p),w=0!==s?(d-nt.lng)/(s/o):0):nt.lng>=0?(p=t*(180-nt.lng+180+d)/180,s=Math.max(c,p),w=0!==s?(180-nt.lng+180+d)/(s/o):0):(p=t*(180+nt.lng+180-d)/180,s=Math.max(c,p),w=0!==s?-1*(180+nt.lng+180-d)/(s/o):0),h=0!==s?(l-nt.lat)/(s/o):0,K=window.setInterval(u,o)}function p(){B&&(G&&(G=!1,y(),it.idle()),B=!1,lt.update(),lt.idle())}function s(){M(I+1),at.update(),at.idle()}function h(){M(I-1),at.update(),at.idle()}function w(t){t.stopPropagation(),H=!0,x=(t.pageX-O)*N+Q,E=(t.pageY-U)*N+$,at.update(),A=!0,W=!0,lt.update(),lt.idle()}function g(t){if(t.stopPropagation(),A&&H){var e=(t.pageX-O)*N+Q,n=(t.pageY-U)*N+$;L(x-e,E-n),x=e,E=n,at.update()}}function f(t){t.stopPropagation(),A&&H&&(H=!1,at.idle(),A=!1,W=!1,lt.update(),lt.idle())}function _(t){var e,n,o,a;t.stopPropagation(),e=(t.touches[0].pageX-O)*N+Q,X=e,n=(t.touches[0].pageY-U)*N+$,Y=n,t.touches.length>2&&(R=!0),2===t.touches.length&&(o=(t.touches[1].pageX-O)*N+Q,a=(t.touches[1].pageY-U)*N+$,b=Math.floor(Math.sqrt(Math.pow(e-o,2)+Math.pow(n-a,2))),P=b,S=(e+o)/2,T=(n+a)/2),1===t.touches.length&&(R=!1,F=!1,at.update(),A=!0,W=!0,lt.update(),lt.idle())}function v(t){if(!F){var e,n,o,a;t.stopPropagation(),A&&(e=(t.touches[0].pageX-O)*N+Q,n=(t.touches[0].pageY-U)*N+$,R||2!==t.touches.length?(L(X-e,Y-n),at.update()):(o=(t.touches[1].pageX-O)*N+Q,a=(t.touches[1].pageY-U)*N+$,P=Math.floor(Math.sqrt(Math.pow(e-o,2)+Math.pow(n-a,2))),S=(e+o)/2,T=(n+a)/2),X=e,Y=n)}}function m(t){t.stopPropagation(),F||A&&(1===t.touches.length&&(R||(F=!0,nt=i.containerPointToLatLng(a.point(S,T)),M(P>b?I+1:I-1),at.update(),at.idle(),A=!1,W=!1,lt.update(),lt.idle())),0===t.touches.length&&(at.idle(),A=!1,W=!1,lt.update(),lt.idle()))}function L(t,o){var l=nt.lat;l>e&&0>o||n>l&&o>0||(nt=i.containerPointToLatLng(a.point(tt+t,et+o)),i.setView(nt,I,{animate:!1}))}function M(t){t=k>=t?t:k,t=t>=j?t:j,I=t,i.setView(nt,I,{animate:!1})}function y(){K&&(window.clearInterval(K),K=null)}if(!t||"object"!=typeof t)throw 400;if(!i||"object"!=typeof i)throw 400;var x,E,X,Y,b,P,S,T,V,Z,q,C,I=i.getZoom(),j=i.getMinZoom(),k=i.getMaxZoom(),z=t.getFrame(),D=t.getContent(),H=!1,F=!1,R=!1,W=!1,A=!1,B=!1,G=!1,J=!1,K=null,N=t.getRowScale(),O=z.offsetLeft,Q=t.frameXYToContentXY([0,0])[0],U=z.offsetTop,$=t.frameXYToContentXY([0,0])[1],tt=t.getWidth()/2,et=t.getHeight()/2,nt=i.containerPointToLatLng(a.point(tt,et)),ot=document.createElement("div"),at=new window.thr0w.Sync(t,"thr0w_leaflet_"+D.id,l,d),it=new window.thr0w.Sync(t,"thr0w_leaflet_animation_"+D.id,l,d,!0),lt=new window.thr0w.Sync(t,"thr0w_leaflet_oob_"+D.id,r,u);this.moveTo=c,this.moveStop=p,ot.classList.add("thr0w_leaflet_palette"),ot.innerHTML=['<div class="thr0w_leaflet_palette__row">','<div class="thr0w_leaflet_palette__row__cell thr0w_leaflet_palette__row__cell--plus">+</div>',"</div>",'<div class="thr0w_leaflet_palette__row">','<div class="thr0w_leaflet_palette__row__cell thr0w_leaflet_palette__row__cell--minus">-</div>',"</div>"].join("\n"),D.appendChild(ot),ot.querySelector(".thr0w_leaflet_palette__row__cell--plus").addEventListener("click",s),ot.querySelector(".thr0w_leaflet_palette__row__cell--minus").addEventListener("click",h),D.addEventListener("mousedown",w,!0),D.addEventListener("mousemove",g,!0),D.addEventListener("mouseup",f,!0),D.addEventListener("touchstart",_,!0),D.addEventListener("touchmove",v,!0),D.addEventListener("touchend",m,!0),D.addEventListener("touchcancel",m,!0)}if(void 0===window.thr0w)throw 400;var e=80,n=-80,o=33,a=window.L,i={};window.thr0w.leaflet=i,i.Map=t}();