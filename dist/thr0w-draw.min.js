!function(){"use strict";function t(t){function e(t){"mousedown"===t.type?(h=t.pageX-m,p=t.pageY-L):(h=Math.floor(t.changedTouches[0].pageX)-m,p=Math.floor(t.changedTouches[0].pageY)-L),f=!0,E.beginPath()}function a(t){var e,a;f&&("mousemove"===t.type?(e=t.pageX-m,a=t.pageY-L):(e=Math.floor(t.changedTouches[0].pageX)-m,a=Math.floor(t.changedTouches[0].pageY)-L),w(h,p,e,a),h=e,p=a)}function r(){f&&(f=!1,E.closePath())}function o(){u=!u,i(),d()}function d(){u?(y.classList.remove("thr0w_draw_canvas--closed"),b.classList.remove("thr0w_draw_palatte--closed"),C.classList.remove("thr0w_draw_palatte__thumb--closed"),C.classList.add("thr0w_draw_palatte__thumb--open")):(s(),y.classList.add("thr0w_draw_canvas--closed"),b.classList.add("thr0w_draw_palatte--closed"),C.classList.remove("thr0w_draw_palatte__thumb--open"),C.classList.add("thr0w_draw_palatte__thumb--closed"))}function c(){for(v=this.style.backgroundColor,T=0;T<S.length;T++)S[T].classList.remove("thr0w_draw_palatte__color_picker--selected");this.classList.add("thr0w_draw_palatte__color_picker--selected"),i(),l()}function l(){E.strokeStyle=v}function s(){var t=b.querySelector(".thr0w_draw_palatte__color_picker--default");for(v=t.style.backgroundColor,y.width=y.width,T=0;T<S.length;T++)S[T].classList.remove("thr0w_draw_palatte__color_picker--selected");t.classList.add("thr0w_draw_palatte__color_picker--selected"),E.strokeStyle=v}function _(){return{open:u,color:v}}function n(t){t.open!==u&&(u=!u,d()),v=t.color,l()}function i(){M.update(),M.idle()}function w(t,e,a,r){function o(){E.moveTo(t,e),E.lineTo(a,r),E.stroke()}window.requestAnimationFrame(o)}if(!t||"object"!=typeof t)throw 400;var h,p,u=!1,v=null,f=!1,g=t.getFrame(),k=t.getContent(),m=g.offsetLeft+k.offsetLeft,L=g.offsetTop+k.offsetTop,b=document.createElement("div"),y=document.createElement("canvas"),E=y.getContext("2d");b.classList.add("thr0w_draw_palatte"),b.classList.add("thr0w_draw_palatte--closed"),b.innerHTML=['<div class="thr0w_draw_palatte__color_picker--default thr0w_draw_palatte__color_picker" style="background: black;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: white;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: red;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: orange;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: yellow;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: green;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: blue;"></div>','<div class="thr0w_draw_palatte__color_picker" style="background: purple;"></div>','<div class="thr0w_draw_palatte__thumb thr0w_draw_palatte__thumb--closed"></div>'].join("\n"),k.appendChild(b);var T,C=b.querySelector(".thr0w_draw_palatte__thumb"),S=b.querySelectorAll(".thr0w_draw_palatte__color_picker");for(y.classList.add("thr0w_draw_canvas"),y.classList.add("thr0w_draw_canvas--closed"),y.width=t.getWidth(),y.height=t.getHeight(),y.addEventListener("mousedown",e),y.addEventListener("mousemove",a),y.addEventListener("mouseup",r),y.addEventListener("mouseleave",r),y.addEventListener("touchstart",e),y.addEventListener("touchmove",a),y.addEventListener("touchend",r),y.addEventListener("touchcancel",r),k.appendChild(y),C.addEventListener("click",o),T=0;T<S.length;T++)S[T].addEventListener("click",c);s();var M=new window.thr0w.Sync(t,"thr0w_draw_"+k.id,_,n)}if(void 0===window.thr0w)throw 400;var e={};e.load=t,window.thr0w.draw=e}();